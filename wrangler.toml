name = "party-games"
compatibility_date = "2024-12-01"
pages_build_output_dir = "out"


# D1 Database binding
# IMPORTANT: Replace database_id with your actual database ID from `wrangler d1 list`
# This ID is not sensitive but should be specific to your deployment
[[d1_databases]]
binding = "murder_mystery_db"
database_name = "murder-mystery-db"
database_id = "e4bbeb9e-d1ad-4e4d-b387-2615bc1b0adc"  # Replace with output from: wrangler d1 list

# R2 Bucket binding for avatar storage
# Note: R2 encrypts all data at rest by default using AES-256
[[r2_buckets]]
binding = "AVATARS"
bucket_name = "murder-mystery-avatars"
preview_bucket_name = "murder-mystery-avatars-preview"

[vars]
ENVIRONMENT = "development"
IP_PLAYER_LIMIT = "false"
ALLOWED_ORIGIN = "*"  # Set to your domain in production (e.g., "https://yourdomain.pages.dev")

# Gemini API Configuration
# For local development, set GEMINI_API_KEY in .dev.vars file (not committed to git):
#   echo "GEMINI_API_KEY=your_api_key_here" > .dev.vars
# For production, set as a secret in Cloudflare Pages dashboard:
#   Settings → Environment Variables → Add variable → GEMINI_API_KEY
# Or via CLI: npx wrangler pages secret put GEMINI_API_KEY
# GEMINI_API_KEY = "" # Don't set here - use .dev.vars or Pages secrets
